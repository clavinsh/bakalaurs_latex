\documentclass[12pt]{report}% Šablona Kristiāns Kacars 2022. Last updated 08.02.2023

%\usepackage[utf8]{inputenc} neizmanto XeLatex, tad jāatkomentē.
\usepackage[T1]{fontenc}
\usepackage{geometry}
\geometry{
 a4paper,
 left=30mm,
 top=20mm,
 right=20mm,
 bottom=20mm,
 includefoot
 }


\usepackage{xcolor}
\usepackage[]{graphicx}
\usepackage{setspace}
%\onehalfspacing %rindstarpas 1.5 vienības
\linespread{1.5}
\usepackage{placeins}%ērti izmantot \FloatBarrier, lai neļauti attēliem aiziet pārāk tālu no vajadzīgās vietas.
\usepackage{titlesec}%izveido atstarpes starp chapter un section nosaukumu
\usepackage{indentfirst}%pirmai rindkopai sekcijas sākumā nav atkāpe, ar šo tā tiek uzlikta
\titleformat{\chapter}
  {\normalfont\fontsize{16}{18}\bfseries\raggedright}{\thechapter.}{0pt}{\MakeUppercase}{}
  
\titleformat{\section}
  {\normalfont\fontsize{14}{16}\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}
  {\normalfont\fontsize{12}{16}\bfseries}{\thesubsection}{1em}{}  

\titlespacing*{\chapter}{0pt}{0pt}{10pt}
\titlespacing*{\section}{0pt}{5pt}{5pt}


% \usepackage{fancyhdr}%šis izveido header, lai tur ir līnija ar section nosaukumu
% \newcommand{\changefont}{%
%     \fontsize{9}{11}\selectfont
% }
% \pagestyle{fancy}
% \fancyhf{}
% \fancyfoot[C]{\thepage}
% \fancyhead[L]{\changefont \leftmark}

\usepackage{polyglossia}
\setdefaultlanguage{latvian}
\usepackage{lipsum}
\setlength{\parskip}{1.5pt}%atstarpe starp rindkopām

%matematikas paketes
\usepackage{amsmath} 
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{bm}%ērts priekš treknraksta matemātiskajā vidē
\usepackage{esint}%integrāļu zīmes, kas nav parastajās ams paketēs

%--pašizveidotās matemātikas komandas
\newcommand{\bra}{\langle}
\newcommand{\ket}{\rangle}
%--

\newtheorem{theorem}{Teorēma}
\theoremstyle{definition}
\newtheorem{definition}{Definīcija}

\usepackage{siunitx}%mērvienībām


%Algoritmu atspoguļošanai
\usepackage[ruled, vlined, linesnumbered, algochapter]{algorithm2e}
\renewcommand{\algorithmcfname}{Algoritms}% nomaina nosaukumu uz latviešu variantu
\usepackage[labelfont={bf}]{caption}%attēlu un tabulu nosaukumu fonts

\usepackage[style=phys,%der arī citi, piem., chem-angew(bibliogrāfijā pie article nav links)
articletitle=false,
biblabel=brackets,%
chaptertitle=false,%
    sorting=none,%kārto pēc citēšanas secības
    date=short]{biblatex}
\addbibresource{biblio.bib}

% normalizēts formatējums atsaucēm
\DeclareFieldFormat*{title}{\textnormal{#1}}
\DeclareFieldFormat*{journaltitle}{\textnormal{#1}}
\DeclareFieldFormat*{booktitle}{\textnormal{#1}}
\DeclareFieldFormat{url}{\textnormal{\url{#1}}}
\AtEveryBibitem{\normalfont}

\usepackage{hyperref}%Izveido spiežamus linkus saturam, bibliogrāfijām uc.
\hypersetup{
    colorlinks,
    citecolor=blue,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}


\newcommand*{\SavedEqref}{}%Dod krāsainus un spiežamus vienādojumu linkus
\let\SavedEqref\eqref
\renewcommand*{\eqref}[1]{%
  \begingroup
    \hypersetup{
      linkcolor=blue,
      linkbordercolor=black,
    }%
    \SavedEqref{#1}%
  \endgroup
}%vienādojumiem


\usepackage{chngcntr}%figure numeration
\counterwithin{figure}{chapter}
\counterwithin{table}{chapter}
\counterwithin{equation}{chapter}%vienadojumu numerācija veidojas pa nodaļām



%Pakete izveido apzīmējumu sarakstu
\usepackage{nomencl}
\makenomenclature
\renewcommand{\nomname}{Apzīmējumu saraksts}
%% Sadala grupās apzīmējumus
%Ja gribat pievienot papildu kategoriju, nokopējat-->
%   \ifstrequal{#1}{F}{Fizikas konstantes}{%
% tikai pēdējā rindiņā( kur ir Lielumu apzīmējumi) ieliekat papildu "}"
% -----------------------------------------
\usepackage{etoolbox}
\renewcommand\nomgroup[1]{%
  \item[\bfseries
  \ifstrequal{#1}{N}{}
]}

% pakete priekš koda formatēšanas
\usepackage{listings}
\renewcommand{\lstlistingname}{Att.}
\lstset{
  language=C++,
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue},
  stringstyle=\color{red},
  commentstyle=\color{green!50!black},
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  frame=single,
  tabsize=2,
  breaklines=true,
  showstringspaces=false,
  aboveskip=1mm, % Reduce space above the listing
  belowskip=1mm, % Reduce space below the listing
  lineskip=-1pt, % Adjust line spacing between lines
}

\usepackage{tabularx}
\usepackage{tikz}
\usepackage{float}




% --------------------------------------------
% ------- beidzas package izsaukšana un stila veidošana






%%%--------- Aizpildīt titullapu---------- 
%% Šis aizpildīs template titullapu ar jūsu informāciju
% Darba tips, i.e. bakalaura vai maģistra
\def\degree{Kursa darbs}
% Fakultātes nosaukums
\def\faculty{Eksakto zinātņu un tehnoloģiju fakultāte}
% Nodaļa iekš fakultātes
\def\department{Datorikas nodaļa}
% Universitātes nosaukums
\def\university{Latvijas Universitāte}
% Universitātes logo
\def\crest{\includegraphics[width = 0.5\textwidth]{LU_logo_LV_horiz.png}}%ja ieliekat attēlu kādā mapē, tad jāsauc attēls no šīs mapes, citādi neparādīsies tas titullapā.
\def\vietlaiks{Rīga, 2024}
\def\supervisor{Darba vadītājs: profesors, Dr. dat. Leo Seļāvo}
\def\studaplieciba{ak21373}
\author{Artūrs Kļaviņš}
\title{GPU programmēšanas salīdzinājums CUDA, ROCm un OpenCL saskarnēs}
\date{Maijs 2025}
\newcommand{\thedate}[0]{01.05.2025}%iesniegšanas datums
%%%---------- Beidz aizpildīt titullapu----------- 




\begin{document}



\thispagestyle{empty}
\makeatletter
   \begin{center}
       \vspace*{1cm}
        
    \vspace{10mm}
    {\Large LATVIJAS UNIVERSITĀTE\\
    \MakeUppercase{\faculty}\\
    \vspace{2mm}
    \MakeUppercase{\department}
    }
    \vspace*{10mm}
    
    
    
    \vspace{5mm}
    {\Large \MakeUppercase{\textbf{\@title}}}
    \vspace{5mm}
    

       \vspace{1cm}
    \Large
    \MakeUppercase{\degree}
    \end{center}
    \vspace{3cm}
    \begin{flushleft}
    \large
       Autors: \textbf{\large \@author}\\
       Studenta apliecības Nr.: \studaplieciba \\
       \supervisor
    \end{flushleft}

       \vfill
     
    \begin{center}
    \Large      
    \MakeUppercase{\vietlaiks}
   \end{center}
\makeatother

\newpage




\thispagestyle{empty}
\noindent \textbf{Anotācija}

\noindent Darbā gan teorētiski, gan praktiski tiks apskatītas CUDA, ROCm un OpenCL GPU
programmēšanas saskarnes. Tiks salīdzināta saskarņu dokumentācija, piedāvātās
programmatūras iespējas un ierobežojumi atbalstītajā aparatūrā. Praktiski tiks ieviesta
paroļu uzlaušanas un Džona Konveja dzīves spēles programmas katrā saskarnē,
apskatīti īstenošanas apsvērumi un analizēta ātrdarbība uz vienas un tās pašas
aparatūras.

\vspace{4mm}
\noindent \textbf{Atslēgas vārdi}: GPU, Nvidia, AMD, CUDA, ROCm, OpenCL

\vspace{20mm}
\noindent \textbf{Abstract}

\noindent Abstract body

\vspace{4mm}
\noindent \textbf{Keywords}: GPU, Nvidia, AMD, CUDA, ROCm

\newpage
\tableofcontents
\newpage

%Apzīmējumu saraksts

\nomenclature[N]{GPU}{Grafiskais procesors (no angļu val. \textit{Graphical Processing Unit})}
\nomenclature[N]{CPU}{Centrālais procesors (no angļu val. \textit{Central Processing Unit})}
\nomenclature[N]{CUDA}{\textit{Compute Unified Device Architecture} ir Nvidia ieviests API, kas ļauj
programmatūrai izmantot NVIDIA ražotos GPU}
\nomenclature[N]{GPGPU}{\textit{General-purpose computing on graphics processing units} - plašlietojama
skaitļošana uz grafiskajiem procesoriem, mūsdienās ņem vērā un ievieš procesora arhitektūras līmenī}
\nomenclature[N]{Ēnotājs}{Datorgrafikas programma, kura apstrādā tekstūru, 3D objektu un ainu gaismas
līmeņus un krāsas}
\nomenclature[N]{HPC}{Augstas veiktspējas skaitļošana (no angļu val. \textit{High-performance Computing})
ir datoru klāsteru izmantošana, lai ar lielu paralelitātes pakāpi risinātu kādu problēmu, apstrādātu milzīga
apjoma datus}
\nomenclature[N]{ROCm}{AMD izstrādātā atvērtā pirmkoda platforma priekš HPC un AI darbiem ar videokartēm}
\nomenclature[N]{HIP}{ROCm sastāvdaļa, C++ API programmu izstrādei uz AMD un Nvidia videokartēm
(no angļu val. \textit{Heterogeneous-computing Interface for Portability})}
\nomenclature[N]{AI}{Mākslīgais intelekts (no angļu val. \textit{Artifical Intelligence})}

% jaunie (iepriekšminētajiem derētu pārskatīt atbilstību)

\nomenclature[N]{Saimnieks}{}
\nomenclature[N]{Ierīce}{}

\printnomenclature

\chapter{Ievads}
Grafiskais procesors vai nu kā atsevisķa vai centrālajā procesorā integrēta
komponente ir sastopama gandrīz visos modernajos datoros. Vēsturiski izmantota
tikai grafisko elementu apstrādei, kur paralēli veicami daudzi līdzīgi darbi,
piemēram, teksta renderēšana, pikseļu aizpildīšana uz ekrāna, 3D ēnotāju
funkcijas.

Kļuva skaidrs, ka GPU augstās paralelizācijas iespējas varētu izmantot citos
uzdevumos, kuri klasiski pildāmi uz CPU. Rezultātā tos būtu daudz efektīvāk
pildīt uz GPU, palielinot programmu ātrdarbību.

Pirms moderniem ietvariem, saskarnēm un arhitektūras atbalsta, ar kuru
palīdzību uz GPU iespējams skaitļot principā jebko, programmētājiem vajadzēja
atrast 'nestandarta' risinājumus, lai pildītu ne-grafiskas problēmas. Piemēram,
2003. gadā radās risinājums kā skaitļot vispārējus lineārās algebras
vienādojumus, pārveidojot matricu datus kā tekstūras un uz tām izpildot
ēnotājus. \cite{10.1145/882262.882363}

Līdz ar to radās pieprasījums pēc plašlietojamas skaitļošanas uz grafiskajiem
procesoriem. GPU ražotāji to sāka ņemt vērā un 2006. gadā Nvidia ieviesa CUDA
API platformu ar tiešu tās atbalstu uz Nvidia  videokartēm, sākot ar "Tesla"
GPU mikroarhitektūru.\cite{nvidia_tesla_p100}

Pie līdzīga secinājuma nonāca ASV kompānija Apple 2009. gadā, izstrādājot pirmo
OpenCL versiju. Vēlāk to sniedzot Khronos darba grupā kopā ar citām IT
kompānijām, tai skaitā AMD un Nvidia. \cite{khronos_proposal} AMD pie sava 
risinājuma modernā risinājuma nonāca 2016. gada, apvienojot iepriekšējos
kompānijas GPU projektus, tika izveidota ROCm platforma kā tieša konkurente
CUDA platformai.

Ņemot vērā, ka šie trīs projekti ir paredzēti līdzīgiem mērķiem, to pieejamās
funkcionalitātes līdzinās viena otrai, CUDA un OpenCL ir iesaistītas vairākos
lielos atvērta pirmkoda projektos, šī darba mērķis ir salīdzināt visas trīs
platformas, to pieejamās salīdzināmās funkcijas, ātrdarbību un iespējamās
priekšrocības, izvēloties kādu no tām.
\input{tex_includes/platformu_salidzin}
\input{tex_includes/etalonuzdevumu_config}
\input{tex_includes/uzdevumi}
\input{tex_includes/rezultati_anal}
\input{tex_includes/rezultati}
\input{tex_includes/secinajumi}

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliogrāfija}
\printbibliography

% \newpage
% \chapter*{Pielikumi}
% \addcontentsline{toc}{chapter}{Pielikumi}
%
%
% Ja darbam nepieciešams, dažādus palīgmateriālus var ievietot pielikumā. Tajā
% parasti iekļauj aprēķinu starprezultātus, ilustrācijas, anketu paraugus, kartes, aparātu un ierīču aprakstus u. c.


%dokumentācijas lapa
% autoram/ei izskatīt, nomainīt locījumu vārdiem
\newpage
\thispagestyle{empty}
\makeatletter
{\setstretch{2.0}
\noindent
\degree \ "\@title" izstrādāts LU Datorikas fakultātē.
\newline
\newline
\noindent
Ar savu parakstu apliecinu, ka pētījums veikts patstāvīgi, izmantoti tikai tajā norādītie informācijas avoti.
\newline
\newline
\noindent
Autors: \@author \space \rule{30mm}{0.2mm}
\newline
\newline
\newline
\noindent
Rekomendēju/nerekomendēju darbu aizstāvēšanai (nevajadzīgo izsvītrot)
\newline
\newline
\noindent 
\supervisor \space \rule{30mm}{0.2mm}
\newline
\newline
\newline
\newline
\newline
\noindent 
Darbs iesniegts Datorikas fakultātē
\newline
\newline
\noindent 
Dekāna pilnvarotā persona:
\newline
\newline
\newline
\newline
\noindent 
Darbs aizstāvēts kursa darbu komisijas sēdē
\newline
\newline
\newline
\newline
\newline
\noindent 
Komisija:
}
\makeatother

\end{document}
